def skip_lines(a):
    for x in range(a):
        print ""
def print_board(board):
    a = "  "
    spacer = ""
    if len(board) >= 9:
      a += " "
    for x in range(len(board[0])):
      a += str(x + 1)
      a += " "
    print a
    
    for b in range(len(board)):
      if b >= 9 or len(board) < 9:
        spacer = ""
      else:
        spacer = " "
      print "| "+ spacer + " ".join(board[b]) + " |"
    
    # bottom border
    c = "|-"
    for d in range(len(board[0])):
      c += "--"
    c += "|"
    print c
def check(board):
    for row in board: # check for horizonal connect 4
      o_counter = 0
      x_counter = 0
      for a in row:
        if a == "O":
          o_counter += 1
          x_counter = 0
        elif a == "X":
          x_counter += 1
          o_counter = 0
        else:
          o_counter = 0
          x_counter = 0
        if o_counter == 4 or x_counter == 4:
          return True
    for column in range(len(board[0])): # check for vertical connect 4
      o_counter = 0
      x_counter = 0
      for a in range(len(board)):
        if board[a][column] == "O":
          o_counter += 1
          x_counter = 0
        elif board[a][column] == "X":
          x_counter += 1
          o_counter = 0
        else:
          o_counter = 0
          x_counter = 0
        if o_counter == 4 or x_counter == 4:
          return True
    #needs to include diagonal check
    #upwards diagonal uses addition
    #downwards diagonal uses subtraction
    
    #check for diagonal
    
    #check for upwards to right
    for sum in range(3,len(board[0]) + len(board) - 3): #for all possible sums of diagonal coordinates (3 to 4 from length of row)
      x_counter = 0
      o_counter = 0
      for row in range(len(board)):
        for column in range(len(board[0])):
          if row + column == sum:
            if board[row][column] == "X":
              x_counter += 1
              o_counter = 0
            elif board[row][column] == "O":
              x_counter = 0
              o_counter += 1
            else:
              x_counter = 0
              o_counter = 0
            
            if x_counter == 4 or o_counter == 4:
              return True
              
    #check for downwards to right
    for sum in range(-6,7): #for all possible sums of diagonal coordinates (3 to 4 from length of row)
      x_counter = 0
      o_counter = 0
      for row in range(len(board)):
        for column in range(len(board[0])):
          if row - column == sum:
            if board[row][column] == "X":
              x_counter += 1
              o_counter = 0
            elif board[row][column] == "O":
              x_counter = 0
              o_counter += 1
            else:
              x_counter = 0
              o_counter = 0
            
            if x_counter == 4 or o_counter == 4:
              return True
              
    return False
    
    
def valid_column(column_input):
  if len(column_input) == 0:
    return False
  elif column_input not in valid_column_inputs:
    return False
  else:
    return True



# create board
num_board_rows = 6
num_board_columns = 7
board = []
for a in range(num_board_rows):
  row = []
  for b in range(num_board_columns):
    row.append("-")
  board.append(row)

num_board_spaces = 0
for x in range(len(board)):
  num_board_spaces += len(board[x])
print num_board_spaces

# create valid column inputs
valid_column_inputs = []
for x in range(len(board[0])):
  valid_column_inputs += str(x + 1)
print valid_column_inputs

# start game
print "CONNNECT FOUR"
print "NEW GAME"
print "------------------------------"

name_setup_check = True
while(name_setup_check):
  response_check = True
  while(response_check):
    player_one = raw_input("Player 1: ")
    if len(player_one) != 0:
      response_check = False
    else:
      print "Please enter a name"
      skip_lines(1)
      
  response_check = True
  while(response_check):
    player_two = raw_input("Player 2: ")
    if len(player_two) != 0:
      response_check = False
    else:
      print "Please enter a name"
      skip_lines(1)
      
  if player_one == player_two:
    print "Please pick different names!"
    skip_lines(2)
  else:
    name_setup_check = False



skip_lines(1)
print_board(board)
skip_lines(1)




turn = player_one
symbol = "X"
winner = False
while(not winner):
  print turn + ", it's your turn!"
  valid_turn = False
  while(not valid_turn):
    column_input = raw_input("Column: ")
    if not valid_column(column_input):
      print "Please input a valid column number"
    else:
      play = int(column_input)
      for x in range(len(board)):
        if str(board[len(board)-1  - x][play - 1]) == "-":
          play = column_input
          valid_turn = True
          break
  
  skip_lines(3)
  board[len(board)-1 - x][int(play) - 1] = symbol
  print_board(board)
 
  
  
  if check(board):
    winner = True
  else:
    if symbol == "X":
      symbol = "O"
    elif symbol == "O":
      symbol = "X"
    if turn == player_one:
      turn = player_two
    elif turn == player_two:
      turn = player_one
    skip_lines(3) 


print "Congratulations " + turn + "!"
print "You've made 4 in a row!"

